---
import { Icon } from 'astro-icon/components';

type Props = {
  items: Array<{ title: string; content: string }>;
  name?: string;
};
const { items, name } = Astro.props;
---

<div class='space-y-4'>
  {
    items.map((item) => (
      <details class='group' {name}>
        <summary class='paragraph-highlight relative flex cursor-pointer select-none list-none border-b-3 p-4 after:absolute after:left-1 after:right-0 after:top-[calc(100%+theme(borderWidth.3))] after:h-[theme(borderWidth.3)] after:w-full after:bg-primary focus-visible:outline-dashed focus-visible:outline-3 focus-visible:outline-current [&::-webkit-details-marker]:hidden'>
          <span>{item.title}</span>
          <Icon
            class='ml-auto min-w-fit self-end transition group-open:rotate-180'
            name='tabler:caret-down'
            size={24}
          />
        </summary>
        <div class='prose'>
          <p class='px-4 pt-4'>{item.content}</p>
        </div>
      </details>
    ))
  }
</div>
